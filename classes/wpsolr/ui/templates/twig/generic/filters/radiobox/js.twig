<script>
    jQuery(document).ready(function () {

        jQuery(".wpsolr_any_facet_filter_class li .{{ facet_selector_class }}").on("click", function (event) {

            jQuery(".wpsolr_any_facet_filter_class li .{{ facet_selector_class }}").not(this).removeClass("{{ facet_selected_class }}"); // Deactivate all facets, except current
            jQuery(this).toggleClass("{{ facet_selected_class }}"); // Activate clicked facet

            var facet = jQuery(this).data("wpsolr-facet-item-value"); // facet value stored in html5 data
            wpsolr_facets.removeFacetValue({"facet_id": facet.facet_id}); // Remove all elements of the facet
            wpsolr_facets.updateLastFacetSelected(facet); // Add current selection to url
            wpsolr_facets.create_url(); // Generate new url and redirect
        });
    });
</script>
